---
layout: post
title:  "micro:bit inchworm しゃくとり虫 - サーボを動かしてみる"
date:   2020-07-14 20:45:00 +0900
categories: microbit inchworm servo
---
しゃくとり虫を組み立てる前に、サーボの動きを確認してみよう。

## じゅんび

* マイクロビット
* サーボ（9g SG90）
* 電池ボックス
* ワニ口クリップ 3本
* ジャンパーワイヤー（オス - オス） 3本

## やりかた

### マイクロビットにプログラムをダウンロードする
   このプログラムをマイクロビットにダウンロードしよう。
   <div style="position:relative;height:0;padding-bottom:70%;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="https://makecode.microbit.org/#pub:_DicCcUX5UiiM" frameborder="0" sandbox="allow-popups allow-forms allow-scripts allow-same-origin"></iframe></div>

   1. プログラムの右上の「編集」アイコンをクリックするとMicrosoft Makecodeの画面が開く
   2. Makecodeの画面上でマイクロビットのAボタンをクリックし、サーボのアーム0度から180度の位置に動くことを確認しよう
   3. マイクロビットとパソコンをUSBケーブルでつなぐ
   4. Makecodeの「ダウンロード」をクリックし、いつもの手順でプログラムをマイクロビットにダウンロードしよう
   5. ダウンロードが終わったら、マイクロビット（実物）のAボタンを押し、「A」の文字が表示されたら成功だ

### マイクロビットとサーボを接続する
ワニ口クリップとジャンパーワイヤーを使ってマイクロビットとサーボをつなごう。サーボのコネクタにジャンパーワイヤーをさしこみ、それをワニ口クリップではさむとよい。

つなぎ方は下の図を参考にしよう。電池ボックスもマイクロビットにつなぐ。
```
マイクロビット      サーボ
------------------------
     GND <------>  茶
     3V  <------>  赤
      0  <------>  橙
```

### サーボを動かしてみよう
   マイクロビットの'A'ボタンを押すとサーボのアームが0度から180度の位置に動くはずだ。

### 成功
サーボの動きが確認できたらしゃくとり虫を組み立てよう!

## 動かないときは

* WIP

## 参考情報（必要な人だけ読んでください）

マイクロビットしゃくとり虫では、サーボ用の電源を別に使わずに、マイクロビットから直接サーボに電力を供給します。そのため以下の点に注意が必要です。
* SG90以外のサーボでは電力不足で動かないことがあります
* マイクロビットの電源をUSBからとるとサーボに必要な電流が供給できません。PHコネクタか、エッジコネクタへ給電します。だだしその場合は3.3Vまでにしましょう。サーボの規格が5Vだからといって、その電圧をPHコネクタかエッジコネクタにかけるとマイクロビットがこわれます（マイクロビット用の電池ボックスにアルカリ電池かエネループを入れれば問題ないです）
* アルカリ電池は新品、エネループならばフル充電のものを使用してください
